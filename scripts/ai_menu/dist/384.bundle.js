'use strict';const a3_0x49eea1=a3_0x2c43;(function(_0x345d1e,_0x3443e7){const _0x2a1efc=a3_0x2c43,_0x21eaed=_0x345d1e();while(!![]){try{const _0x2818f7=parseInt(_0x2a1efc(0x1ee))/0x1*(parseInt(_0x2a1efc(0x21c))/0x2)+-parseInt(_0x2a1efc(0x203))/0x3*(-parseInt(_0x2a1efc(0x21d))/0x4)+-parseInt(_0x2a1efc(0x1f7))/0x5+parseInt(_0x2a1efc(0x1ec))/0x6*(-parseInt(_0x2a1efc(0x208))/0x7)+parseInt(_0x2a1efc(0x1f1))/0x8+-parseInt(_0x2a1efc(0x1f3))/0x9+parseInt(_0x2a1efc(0x224))/0xa;if(_0x2818f7===_0x3443e7)break;else _0x21eaed['push'](_0x21eaed['shift']());}catch(_0x163415){_0x21eaed['push'](_0x21eaed['shift']());}}}(a3_0x5668,0x7dad1));function a3_0x2c43(_0x10e02d,_0xdd9fe2){const _0x566842=a3_0x5668();return a3_0x2c43=function(_0x2c4397,_0x29e8ea){_0x2c4397=_0x2c4397-0x1eb;let _0x32bc15=_0x566842[_0x2c4397];return _0x32bc15;},a3_0x2c43(_0x10e02d,_0xdd9fe2);}function a3_0x5668(){const _0x574bdb=['get','charToSplit','status','has','sort','8DQiZyR','65836hTBCnd','reduce','readwrite','catch','add','insert','vectorDB_new','4684710LtJYOy','application/json','_hashIndex','removeFromBucket','Object\x20not\x20found\x20with\x20the\x20provided\x20key','onerror','readonly','similarity','result','text','split','slice','query','createObjectStore','push','updateHashIndex','\x20expected\x20to\x20be\x20present\x20in\x20the\x20object\x20being\x20updated','173082QPnEna','\x20on\x20\x27object\x27\x20is\x20expected\x20to\x20be\x20an\x20Array\x20or\x20Int8Array','143277ZisiRy','delete','onupgradeneeded','5801136rORAYV','random','5400063JaUxUV','map','match','put','3711910jbTPih','objectStore','interval','objectStoreNames','indexOf','target','open','contains','webpackChunkinjectchat','overlap','tables','from','27RUhagN','stringify','error','join','sqrt','14xjPDwb','length','update','transaction','isArray','embedding','vectors','json','splice','hashVector','onsuccess','then','https://tinymlbackend3.azurewebsites.net/api/embeddings-binary','POST','forEach'];a3_0x5668=function(){return _0x574bdb;};return a3_0x5668();}(self[a3_0x49eea1(0x1ff)]=self[a3_0x49eea1(0x1ff)]||[])[a3_0x49eea1(0x232)]([[0x180],{0x180:(_0x26afb9,_0x28ea68,_0xf3d138)=>{const _0x15d0d7=a3_0x49eea1;_0xf3d138['r'](_0x28ea68),_0xf3d138['d'](_0x28ea68,{'delete_row':()=>_0x22ba0c,'initiate':()=>_0x56a36a,'quickStart':()=>_0x8ac747,'quickStart_single':()=>_0xcf2c69,'search':()=>_0x269dc2,'update':()=>_0x3a321a});let _0x54f0e6={'dbName':_0x15d0d7(0x223),'objectStore':_0x15d0d7(0x20e),'hyperplanes':0xa,'dimensions':0x180,'numPlanes':0x5};class _0x1b25b6{constructor(_0x4d2d09,_0x4fc0eb,_0x319d0c=0x5){const _0x1d4c4d=_0x15d0d7;this['numTables']=_0x319d0c,this['tables']=Array[_0x1d4c4d(0x202)]({'length':_0x319d0c},()=>Array[_0x1d4c4d(0x202)]({'length':_0x4fc0eb},()=>function(_0x2b0577){const _0x14e716=_0x1d4c4d;return Array[_0x14e716(0x202)]({'length':_0x2b0577},()=>Math[_0x14e716(0x1f2)]()-0.5);}(_0x4d2d09)));}[_0x15d0d7(0x211)](_0x2c70b4){const _0x14c549=_0x15d0d7;return this[_0x14c549(0x201)]['map'](_0x917e0b=>_0x917e0b['map'](_0x4e6769=>_0x2c70b4[_0x14c549(0x21e)]((_0x346029,_0x387425,_0x1d5faf)=>_0x346029+_0x387425*_0x4e6769[_0x1d5faf],0x0)>=0x0?'1':'0')[_0x14c549(0x206)](''));}}function _0x25cbee(_0x2e3a9e,_0xdd2569){const _0x1c1fb2=_0x15d0d7;return 0x1===_0x2e3a9e[_0x1c1fb2(0x209)]&&(_0x2e3a9e=_0x2e3a9e[0x0]),_0x2e3a9e[_0x1c1fb2(0x21e)]((_0x4bb46e,_0x2aba7c,_0x13d99b)=>_0x4bb46e+_0x2aba7c*_0xdd2569[_0x13d99b],0x0)/(Math[_0x1c1fb2(0x207)](_0x2e3a9e[_0x1c1fb2(0x21e)]((_0x3a402a,_0x5ae698)=>_0x3a402a+_0x5ae698*_0x5ae698,0x0))*Math[_0x1c1fb2(0x207)](_0xdd2569[_0x1c1fb2(0x21e)]((_0x843901,_0x21f22d)=>_0x843901+_0x21f22d*_0x21f22d,0x0)));}class _0x32e474{#t;#e;#r;#o;constructor(_0x400d44={}){const {dbName:_0x59fa49,objectStore:_0x23ecac,vectorPath:_0xc48f6c,dimensions:_0x34f4e9,numPlanes:_0x178185}={..._0x54f0e6,..._0x400d44};this.#t=_0x23ecac,this.#e=_0xc48f6c,this.#o=new _0x1b25b6(_0x34f4e9,_0x178185),this.#r=function(_0x1507ce){const {dbName:_0x5d12df,objectStore:_0x25ec75,vectorPath:_0xa2c4f3}={..._0x54f0e6,..._0x1507ce};return new Promise((_0x5f5710,_0x1412b4)=>{const _0x1f408e=a3_0x2c43,_0x2cc8cf=indexedDB[_0x1f408e(0x1fd)](_0x5d12df,0x2);_0x2cc8cf[_0x1f408e(0x1f0)]=_0x16e6b8=>{const _0x45226e=_0x1f408e,_0x5f5d46=_0x16e6b8['target'][_0x45226e(0x22c)];_0x5f5d46[_0x45226e(0x1fa)][_0x45226e(0x1fe)](_0x25ec75)||_0x5f5d46[_0x45226e(0x231)](_0x25ec75,{'autoIncrement':!0x0});const _0x466f14=_0x25ec75+_0x45226e(0x226);_0x5f5d46[_0x45226e(0x1fa)][_0x45226e(0x1fe)](_0x466f14)||_0x5f5d46[_0x45226e(0x231)](_0x466f14,{'autoIncrement':!0x0});},_0x2cc8cf[_0x1f408e(0x212)]=_0x595443=>{const _0x269133=_0x1f408e;_0x5f5710(_0x595443[_0x269133(0x1fc)]['result']);},_0x2cc8cf['onerror']=_0x4dd286=>{const _0x3ed4c4=_0x1f408e;_0x1412b4(_0x4dd286['target'][_0x3ed4c4(0x205)]);};});}({'dbName':_0x59fa49,'objectStore':_0x23ecac,'vectorPath':_0xc48f6c});}async[_0x15d0d7(0x222)](_0x11c9cf){const _0x5c348a=_0x15d0d7,_0x3a12ee=_0x11c9cf[this.#e];if(!(Array[_0x5c348a(0x20c)](_0x3a12ee)||_0x3a12ee instanceof Int8Array))throw new Error(this.#e+_0x5c348a(0x1ed));const _0x511d81=(await this.#r)[_0x5c348a(0x20b)]([this.#t,this.#t+_0x5c348a(0x226)],_0x5c348a(0x21f)),_0x2c2a45=_0x511d81[_0x5c348a(0x1f8)](this.#t),_0x447087=_0x511d81[_0x5c348a(0x1f8)](this.#t+_0x5c348a(0x226));try{const _0x119fcb=_0x2c2a45['add'](_0x11c9cf),_0x3dfaff=await new Promise((_0x4bd8c7,_0x55b452)=>{const _0x516d84=_0x5c348a;_0x119fcb[_0x516d84(0x212)]=()=>_0x4bd8c7(_0x119fcb[_0x516d84(0x22c)]),_0x119fcb[_0x516d84(0x229)]=()=>_0x55b452(_0x119fcb['error']);}),_0x2fd4a5=this.#o[_0x5c348a(0x211)](_0x3a12ee);for(let _0x5f66f3 of _0x2fd4a5){const _0x3389dc=await new Promise((_0x51537a,_0x41e659)=>{const _0x12dd62=_0x5c348a,_0xb4deea=_0x447087[_0x12dd62(0x217)](_0x5f66f3);_0xb4deea[_0x12dd62(0x212)]=()=>_0x51537a(_0xb4deea[_0x12dd62(0x22c)]||[]),_0xb4deea['onerror']=()=>_0x41e659(_0xb4deea[_0x12dd62(0x205)]);});_0x3389dc[_0x5c348a(0x232)](_0x3dfaff),await new Promise((_0x5416bd,_0x5286fa)=>{const _0x5eda8e=_0x5c348a,_0x25e389=_0x447087[_0x5eda8e(0x1f6)](_0x3389dc,_0x5f66f3);_0x25e389[_0x5eda8e(0x212)]=()=>_0x5416bd(),_0x25e389[_0x5eda8e(0x229)]=()=>_0x5286fa(_0x25e389[_0x5eda8e(0x205)]);});}return _0x3dfaff;}catch(_0x572f01){throw _0x572f01;}}async[_0x15d0d7(0x1ef)](_0x590252){const _0x1ac731=_0x15d0d7;if(null==_0x590252)throw new Error('Unable\x20to\x20delete\x20object\x20without\x20a\x20key');const _0x195376=(await this.#r)[_0x1ac731(0x20b)]([this.#t,this.#t+_0x1ac731(0x226)],_0x1ac731(0x21f)),_0x43013e=_0x195376[_0x1ac731(0x1f8)](this.#t),_0xae025=_0x195376['objectStore'](this.#t+_0x1ac731(0x226)),_0x58b01b=await new Promise((_0x59fde3,_0x58a80e)=>{const _0x141d2b=_0x1ac731,_0x18d36d=_0x43013e[_0x141d2b(0x217)](_0x590252);_0x18d36d[_0x141d2b(0x212)]=()=>_0x59fde3(_0x18d36d[_0x141d2b(0x22c)]),_0x18d36d[_0x141d2b(0x229)]=()=>_0x58a80e(_0x18d36d[_0x141d2b(0x205)]);});if(!_0x58b01b)throw new Error(_0x1ac731(0x228));const _0x1d6606=_0x58b01b[this.#e],_0x158921=this.#o[_0x1ac731(0x211)](_0x1d6606);return await Promise['all'](_0x158921[_0x1ac731(0x1f4)](_0x3e8934=>this[_0x1ac731(0x227)](_0xae025,_0x590252,_0x3e8934))),new Promise((_0x811ee3,_0x42272a)=>{const _0x29c641=_0x1ac731,_0x13a046=_0x43013e['delete'](_0x590252);_0x13a046[_0x29c641(0x212)]=()=>_0x811ee3(),_0x13a046[_0x29c641(0x229)]=()=>_0x42272a(_0x13a046['error']);});}async['removeFromBucket'](_0x921c0,_0x194616,_0x346ab1){const _0x5336e0=_0x15d0d7,_0x121781=await new Promise((_0x16cf32,_0x4c68ec)=>{const _0x2e0aa0=a3_0x2c43,_0x256545=_0x921c0['get'](_0x346ab1);_0x256545[_0x2e0aa0(0x212)]=()=>_0x16cf32(_0x256545['result']||[]),_0x256545[_0x2e0aa0(0x229)]=()=>_0x4c68ec(_0x256545[_0x2e0aa0(0x205)]);}),_0x5c51b5=_0x121781[_0x5336e0(0x1fb)](_0x194616);-0x1!==_0x5c51b5&&(_0x121781['splice'](_0x5c51b5,0x1),await new Promise((_0x193e54,_0x49ed40)=>{const _0x43ebdf=_0x5336e0,_0x2d2ba9=_0x921c0[_0x43ebdf(0x1f6)](_0x121781,_0x346ab1);_0x2d2ba9[_0x43ebdf(0x212)]=()=>_0x193e54(),_0x2d2ba9[_0x43ebdf(0x229)]=()=>_0x49ed40(_0x2d2ba9[_0x43ebdf(0x205)]);}));}async[_0x15d0d7(0x20a)](_0x4454d4,_0x3d185c){const _0x204785=_0x15d0d7;if(null==_0x4454d4)throw new Error('Unable\x20to\x20update\x20object\x20without\x20a\x20key');if(!(this.#e in _0x3d185c))throw new Error(this.#e+_0x204785(0x1eb));if(!(Array['isArray'](_0x3d185c[this.#e])||_0x3d185c[this.#e]instanceof Int8Array))throw new Error(this.#e+_0x204785(0x1ed));const _0x5779da=(await this.#r)['transaction']([this.#t,this.#t+_0x204785(0x226)],_0x204785(0x21f)),_0x45a183=_0x5779da[_0x204785(0x1f8)](this.#t),_0x1d062b=_0x5779da['objectStore'](this.#t+_0x204785(0x226)),_0x2f552c=_0x45a183[_0x204785(0x217)](_0x4454d4);return new Promise((_0x5f3efe,_0x513762)=>{const _0x528b99=_0x204785;_0x2f552c['onsuccess']=async()=>{const _0x16d522=a3_0x2c43,_0x90ba71=_0x2f552c[_0x16d522(0x22c)];if(!_0x90ba71)return void _0x513762(new Error(_0x16d522(0x228)));const _0xecb0f0=this.#o['hashVector'](_0x90ba71[this.#e]),_0x5ad295=this.#o['hashVector'](_0x3d185c[this.#e]),_0x4e455b=_0x45a183['put'](_0x3d185c,_0x4454d4);_0x4e455b[_0x16d522(0x212)]=async()=>{const _0x275f70=_0x16d522;try{for(let _0x276231=0x0;_0x276231<this.#o['numTables'];_0x276231++)_0xecb0f0[_0x276231]!==_0x5ad295[_0x276231]&&await this[_0x275f70(0x233)](_0x1d062b,_0x4454d4,_0xecb0f0[_0x276231],_0x5ad295[_0x276231]);_0x5f3efe(_0x4e455b[_0x275f70(0x22c)]);}catch(_0x4e61fd){_0x513762(_0x4e61fd);}},_0x4e455b[_0x16d522(0x229)]=()=>_0x513762(_0x4e455b['error']);},_0x2f552c['onerror']=()=>_0x513762(_0x2f552c[_0x528b99(0x205)]);});}async[_0x15d0d7(0x233)](_0xa7bc28,_0x4096bc,_0x10f78c,_0xcf092b){const _0x5da5fe=_0x15d0d7,_0x12b58d=_0xa7bc28[_0x5da5fe(0x217)](_0x10f78c),_0x377e66=await new Promise((_0x4a0aaf,_0x2a05d6)=>{const _0x5b1f6a=_0x5da5fe;_0x12b58d['onsuccess']=()=>_0x4a0aaf(_0x12b58d[_0x5b1f6a(0x22c)]||[]),_0x12b58d['onerror']=()=>_0x2a05d6(_0x12b58d[_0x5b1f6a(0x205)]);}),_0x5f212d=_0x377e66['indexOf'](_0x4096bc);-0x1!==_0x5f212d&&(_0x377e66[_0x5da5fe(0x210)](_0x5f212d,0x1),await _0xa7bc28[_0x5da5fe(0x1f6)](_0x377e66,_0x10f78c));const _0xf0296b=_0xa7bc28['get'](_0xcf092b),_0x1e12df=await new Promise((_0x154de7,_0x2088f9)=>{const _0x45c32d=_0x5da5fe;_0xf0296b[_0x45c32d(0x212)]=()=>_0x154de7(_0xf0296b[_0x45c32d(0x22c)]||[]),_0xf0296b[_0x45c32d(0x229)]=()=>_0x2088f9(_0xf0296b[_0x45c32d(0x205)]);});_0x1e12df[_0x5da5fe(0x232)](_0x4096bc),await _0xa7bc28['put'](_0x1e12df,_0xcf092b);}async['query'](_0x3bbefc,_0x58ae73={'limit':0xa}){const _0x27d717=_0x15d0d7,{limit:_0x5ef4c9}=_0x58ae73;let _0x16707e=new Set(),_0x291a1b=[];try{const _0x7c772e=(await this.#r)[_0x27d717(0x20b)]([this.#t,this.#t+_0x27d717(0x226)],_0x27d717(0x22a)),_0x54b562=_0x7c772e[_0x27d717(0x1f8)](this.#t),_0x130aac=_0x7c772e[_0x27d717(0x1f8)](this.#t+_0x27d717(0x226)),_0x1be4d8=this.#o['hashVector'](_0x3bbefc);for(let _0x5c4ba0 of _0x1be4d8){const _0x55a060=await new Promise((_0x2f48d2,_0x21ae50)=>{const _0x251a88=_0x27d717,_0x10c56c=_0x130aac[_0x251a88(0x217)](_0x5c4ba0);_0x10c56c[_0x251a88(0x212)]=()=>_0x2f48d2(_0x10c56c[_0x251a88(0x22c)]||[]),_0x10c56c[_0x251a88(0x229)]=()=>_0x21ae50(_0x10c56c[_0x251a88(0x205)]);});for(let _0x3265bb of _0x55a060)if(!_0x16707e[_0x27d717(0x21a)](_0x3265bb)){_0x16707e[_0x27d717(0x221)](_0x3265bb);const _0x4510c7=await new Promise((_0x2f218d,_0x4d210c)=>{const _0x3f9872=_0x27d717,_0x24d996=_0x54b562['get'](_0x3265bb);_0x24d996[_0x3f9872(0x212)]=()=>_0x2f218d(_0x24d996[_0x3f9872(0x22c)]),_0x24d996[_0x3f9872(0x229)]=()=>_0x4d210c(_0x24d996[_0x3f9872(0x205)]);}),_0x29519e=_0x25cbee(_0x3bbefc,_0x4510c7[this.#e]);_0x291a1b['push']({'object':_0x4510c7,'key':_0x3265bb,'similarity':_0x29519e});}}return _0x291a1b[_0x27d717(0x21b)]((_0x9c509d,_0xeb8c57)=>_0xeb8c57[_0x27d717(0x22b)]-_0x9c509d['similarity']),_0x291a1b[_0x27d717(0x22f)](0x0,_0x5ef4c9);}catch(_0x337e92){throw _0x337e92;}}get[_0x15d0d7(0x1f8)](){return this.#t;}}const _0x5796aa=_0x15d0d7(0x214);function _0x1c4f43(_0x56203a,_0x5a9351){const _0x17a628=_0x15d0d7;return fetch(_0x5796aa,{'method':_0x17a628(0x215),'headers':{'Authorization':'Bearer\x20'+_0x5a9351,'Content-Type':_0x17a628(0x225)},'body':JSON[_0x17a628(0x204)]({'text':_0x56203a})})[_0x17a628(0x213)](_0x62106f=>{const _0x443ca2=_0x17a628;if(!_0x62106f['ok'])throw new Error('HTTP\x20error!\x20status:\x20'+_0x62106f[_0x443ca2(0x219)]);return _0x62106f[_0x443ca2(0x20f)]();})[_0x17a628(0x220)](_0x1ab161=>{});}const _0x14ae5a=new class{constructor(_0x43ae41,_0x58c4da,_0x3d763d='\x0a\x0a'){const _0x4ca49d=_0x15d0d7;this[_0x4ca49d(0x1f9)]=_0x43ae41,this['overlap']=_0x58c4da,this[_0x4ca49d(0x218)]=_0x3d763d;}[_0x15d0d7(0x22e)](_0x119967){const _0x596853=_0x15d0d7,_0x5413bb=[],_0x8201bb=_0x119967[_0x596853(0x22e)](this[_0x596853(0x218)]);let _0x25ac3a=[],_0x45fda2=0x0;return _0x8201bb[_0x596853(0x216)](_0x524aeb=>{const _0xb78086=_0x596853;(_0x524aeb[_0xb78086(0x1f5)](/\w+|[^\w\s]+/g)||[])[_0xb78086(0x216)](_0xdce978=>{const _0x58bdfe=_0xb78086;_0x45fda2+_0xdce978[_0x58bdfe(0x209)]+0x1>this[_0x58bdfe(0x1f9)]&&(_0x5413bb['push'](_0x25ac3a['join']('\x20')),_0x25ac3a=_0x25ac3a[_0x58bdfe(0x22f)](-this[_0x58bdfe(0x200)]),_0x45fda2=_0x25ac3a['join']('\x20')['length']+0x1),_0x25ac3a[_0x58bdfe(0x232)](_0xdce978),_0x45fda2+=_0xdce978[_0x58bdfe(0x209)]+0x1;});}),_0x25ac3a[_0x596853(0x209)]>0x0&&_0x5413bb['push'](_0x25ac3a[_0x596853(0x206)]('\x20')),_0x5413bb;}}(0xc8,0x14,'\x0a\x0a');let _0x16dff6;const _0x3ea59f=[];async function _0x56a36a(_0x17b3d4){const _0x15e0c1=_0x15d0d7;var _0x31dce0;return _0x31dce0={'dbName':_0x17b3d4},_0x54f0e6={..._0x54f0e6,..._0x31dce0},_0x16dff6=new _0x32e474({'vectorPath':_0x15e0c1(0x20d)}),_0x54f0e6;}async function _0x8ac747(_0x242c3b,_0x35b13e,_0x5e29c6=!0x0){const _0x5c031a=_0x15d0d7,{text:_0x2298f4,..._0x33d212}=_0x242c3b,_0x515239=_0x14ae5a[_0x5c031a(0x22e)](_0x2298f4);let _0x6bebfc;_0x6bebfc=await _0x1c4f43(_0x515239,_0x35b13e);for(let _0x304a66=0x0;_0x304a66<_0x515239[_0x5c031a(0x209)];_0x304a66++){const {text:_0x46971b,..._0x4e8b68}=_0x242c3b;_0x4e8b68[_0x5c031a(0x22d)]=_0x515239[_0x304a66];const _0x35ed62=await _0x16dff6[_0x5c031a(0x222)]({'embedding':_0x6bebfc[_0x304a66],..._0x4e8b68});_0x3ea59f[_0x5c031a(0x232)]({'key':_0x35ed62,..._0x4e8b68});}return _0x3ea59f;}async function _0x269dc2(_0x3ef66d,_0x3cf68e={'limit':0x5},_0x14befe,_0x45bf87=!0x0){const _0x510835=_0x15d0d7;let _0x4c7c39;return _0x4c7c39=await _0x1c4f43(_0x3ef66d,_0x14befe),await _0x16dff6[_0x510835(0x230)](_0x4c7c39,_0x3cf68e);}async function _0xcf2c69(_0x24b98a,_0x59ed88,_0x145557=!0x0){const _0x4b596d=_0x15d0d7,{text:_0x3ed53d,..._0x439921}=_0x24b98a,_0x5101b4=_0x1c4f43([_0x3ed53d],_0x59ed88),_0x301a0b=await _0x16dff6['insert']({'embedding':_0x5101b4,'text':_0x3ed53d,..._0x439921});return _0x3ea59f[_0x4b596d(0x232)]({'key':_0x301a0b,..._0x439921}),_0x3ea59f;}async function _0x22ba0c(_0xebf459){const _0x205b69=_0x15d0d7;return await _0x16dff6[_0x205b69(0x1ef)](_0xebf459);}async function _0x3a321a(_0x5e53b6,_0x55bcad,_0x2c4da8){const _0xf7e706=_0x15d0d7,_0x3d896f=_0x55bcad['text'];if(!_0x55bcad[_0xf7e706(0x20d)]){const _0x3f4e52=await _0x1c4f43([_0x3d896f],_0x2c4da8);_0x55bcad[_0xf7e706(0x20d)]=_0x3f4e52;}return await _0x16dff6[_0xf7e706(0x20a)](_0x5e53b6,{'embedding':text_embeddings,'metaData':_0x55bcad});}}}]);